
spring.application.name=customerfeedbackapp

# 1. Set a custom port number (default: 8080, change it to an unused port number - if required)
server.port=${SERVER_PORT}

# To allow live-server reload to operate according to the custom port used for the project
spring.devtools.livereload.enabled=true 
spring.devtools.livereload.port=${SERVER_PORT}

# 2. Move environment variables to .env and masked by .gitignore:
# 3. Conventional approach: spring.config.import=file:env.properties
# 4. The following is more versatile
spring.config.import=optional:file:.env[.properties]

# 5. Set the values for the following in .env for DB connection:
# - DB_HOST
# - DB_PORT
# - DB_NAME
# - DB_USERNAME
# - DB_USER_PASSWORD
spring.datasource.url=jdbc:mysql://${DB_HOST}:${DB_PORT}/${DB_NAME}?createDatabaseIfNotExist=true
spring.datasource.username= ${DB_USERNAME}
spring.datasource.password= ${DB_USER_PASSWORD}

# 6. Implement create (when run) and drop (when stopped) tables = create-drop
# 7. Optionally, to keep/update the DB on changes in Spring = update
spring.jpa.hibernate.ddl-auto=update
jpa.properties.show-sql = true

# 8. Specify the qualified name of the MySQL JDBC driver to establish DB connection
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# 9. Specify to Hibernate which SQL dialect to use for generating optimized SQL queries for MySQL
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# 10. Set the global logging level to DEBUG to provide detailed internal framework information in the console
# - TRACE:  Used for granular tracing the path of a single request or logic flow.
# - DEBUG:  High-detail info for developers to troubleshoot issues.
# - INFO:   (Default) Significant "milestone" events (e.g., app started, service connected).
# - WARN:   Something unexpected happened, but the app is still running.
# - ERROR:  A serious failure occurred (e.g., database connection lost, API crashed).
# - OFF:    Turns off all logging entirely.
logging.level.root=INFO

# 11. Define custom property of local file system path to store uploaded files
file.upload-dir=${UPLOADS}

app.secret=${JWT_SECRET}

# 11.1. Optional: Setup path for the server-app to serve static files
# spring.resources.static-locations=classpath:/static/,file:./public/img/

# 12. Enable support for multipart file uploads (e.g., uploading images via HTML forms)
spring.servlet.multipart.enabled=true

# 13. Specify max. total size allowed for a single multipart/form-data request (including multiple files)
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB

# 14. Note:
# For those who prefer to use H2 in-memory database for unit testing
# comment out the above application properties meant for MySQL AND remove the comments below
# 'sa' for username and password is the default username and password for H2 DB

#spring.datasource.url = jdbc:h2://mem:db;DB_CLOSE_DELAY=-1
#spring.datasource.username = sa
#spring.datasource.password = sa
#spring.datasource.driver-class-name = org.h2.Driver
#
## The SQL dialect makes Hibernate generate better SQL for the chosen database
#jpa.properties.hibernate.dialect = org.hibernate.dialect.H2Dialect
#jpa.properties.show-sql = true
#
##JPA settings
jpa.hibernate.ddl-auto = create-drop

